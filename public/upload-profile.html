

<html>
<body>
<h1>Upload Profile Image</h1>
<form id="uploadForm" enctype="multipart/form-data">
  <input type="file" name="image" accept="image/*" required><br><br>
  <button type="submit">Upload</button>
</form>
<div id="result"></div>
<script>
document.getElementById('uploadForm').onsubmit = async function(e) {
  e.preventDefault();
  const form = e.target;
  const formData = new FormData(form);
  const token = localStorage.getItem('token');
  let res = await fetch('/api/profile/upload-image', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer ' + token
    },
    body: formData
  });
  let data = await res.json();
  if (res.ok) {
    document.getElementById('result').innerHTML = 'Upload successful!<br>Image path: ' + data.url;
  } else {
    document.getElementById('result').innerHTML = 'Error: ' + (data.message || 'Upload failed');
  }
};
</script>
</body>
</html>
