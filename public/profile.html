<html>
<body>
<h1>Update Profile Picture</h1>
<form id="profileForm">
  <input type="file" name="profileImage" accept="image/*" required />
  <button type="submit">Upload</button>
</form>
<div id="result"></div>
<script>
document.getElementById('profileForm').onsubmit = async function(e) {
  e.preventDefault();
  const form = e.target;
  const formData = new FormData(form);
  const token = localStorage.getItem('token');
  let res = await fetch('/api/profile/upload', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer ' + token
    },
    body: formData
  });
  let data = await res.json();
  if (res.ok) {
    document.getElementById('result').innerText = 'Profile image uploaded successfully!';
  } else {
    document.getElementById('result').innerText = data.message || 'Upload failed.';
  }
};
</script>
</body>
</html>
